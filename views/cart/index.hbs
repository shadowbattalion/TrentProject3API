{{#extends 'base'}}

{{#block 'content'}}

{{#each cart_games}} 
    <div class="card my-3">
        <div class="card-body">
            <h3 class="card-title">{{this.game.title}} x {{this.quantity}} = ${{this.sub_total}}</h3> 
            <div>
                <div>
                    <form method="POST" action="/cart/{{this.game.id}}/quantity/add">
                        <input type="hidden" name="_csrf" value="{{../this.csrf}}"/>
                        <input type="submit"  value="+" class="btn btn-primary"/>
                    </form>
                    <label>Quantity</label>
                    <input type="text" value="{{this.quantity}}"/>
                    <form method="POST" action="/cart/{{this.game.id}}/quantity/subtract">
                        <input type="hidden" name="_csrf" value="{{../this.csrf}}"/>
                        <input type="submit"  value="-" class="btn btn-primary"/>
                    </form>     
                </div>
                <div>
                    {{this.game.description}}
                </div>
                <ul>
                    <li>Category: {{this.game.category.name}}</li>
                    <li>Cost: {{this.game.cost}}</li>
                </ul>
                <form method="POST" action="/cart/{{this.game.id}}/delete">
                    <input type="hidden" name="_csrf" value="{{../this.csrf}}"/>
                    <input type="submit" value="Remove" class="btn btn-danger"/>
                </form>    
            </div>
        </div>
    </div>

{{/each}}


<div class="card my-3">
        <div class="card-body">
            <h3 class="card-title">Total: ${{total}}</h3> 
    </div>
</div>

{{/block}}

{{/extends}}